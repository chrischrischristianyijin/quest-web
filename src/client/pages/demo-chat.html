<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo Chat - Quest</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .chat-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .chat-header {
            background: linear-gradient(135deg, #4B264F 0%, #8E4F9D 100%);
            color: white;
            padding: 20px 30px;
            border-radius: 16px 16px 0 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .chat-header h1 {
            margin: 0;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .back-btn {
            background: rgba(255, 255, 255, 0.15);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 8px 16px;
            border-radius: 20px;
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-1px);
        }

        .chat-main {
            background: white;
            border-radius: 0 0 16px 16px;
            flex: 1;
            display: flex;
            flex-direction: column;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .message {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 0.95rem;
            line-height: 1.5;
            opacity: 0;
            transform: translateY(10px);
            animation: messageSlideIn 0.3s ease-out forwards;
        }

        @keyframes messageSlideIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.user {
            background: linear-gradient(135deg, #4B264F 0%, #8E4F9D 100%);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }

        .message.assistant {
            background: #f1f3f4;
            color: #333;
            align-self: flex-start;
            border-bottom-left-radius: 4px;
        }

        .demo-notice {
            background: #e3f2fd;
            color: #1976d2;
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #2196f3;
            font-size: 0.9rem;
        }

        .demo-notice strong {
            font-weight: 600;
        }

        .typing-indicator {
            color: #666;
            font-style: italic;
        }

        .chat-input-container {
            padding: 20px;
            border-top: 1px solid #e0e0e0;
            background: #fafafa;
        }

        .chat-input-form {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .chat-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 24px;
            font-size: 0.95rem;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .chat-input:focus {
            border-color: #4B264F;
        }

        .send-btn {
            background: linear-gradient(135deg, #4B264F 0%, #8E4F9D 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 24px;
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .send-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(75, 38, 79, 0.3);
        }

        .send-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        @media (max-width: 768px) {
            .chat-container {
                padding: 10px;
                height: 100vh;
            }

            .chat-header {
                padding: 15px 20px;
            }

            .chat-header h1 {
                font-size: 1.3rem;
            }

            .message {
                max-width: 85%;
                font-size: 0.9rem;
            }

            .chat-input-form {
                flex-direction: column;
                gap: 10px;
            }

            .chat-input {
                width: 100%;
            }

            .send-btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <h1>ðŸ¤– Quest Demo Chat</h1>
            <a href="/my-space" class="back-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <path d="M19 12H5M12 19l-7-7 7-7" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round" />
                </svg>
                Back to My Space
            </a>
        </div>

        <div class="chat-main">
            <div class="chat-messages" id="chatMessages">
                <div class="demo-notice">
                    <strong>Demo Mode:</strong> This is a demonstration of Quest's AI chat functionality. 
                    In the full version, this would connect to Quest's AI assistant to help you explore and understand your saved content.
                </div>
                
                <div class="message assistant">
                    ðŸ‘‹ Hello! I'm Quest's AI assistant. I can help you explore and understand the content you've saved. 
                    What would you like to know about your knowledge collection?
                </div>
            </div>

            <div class="chat-input-container">
                <form class="chat-input-form" id="chatForm">
                    <input type="text" class="chat-input" id="chatInput" 
                           placeholder="Ask me anything about your saved content..." 
                           autocomplete="off">
                    <button type="submit" class="send-btn" id="sendBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                        Send
                    </button>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Demo chat functionality
        const chatMessages = document.getElementById('chatMessages');
        const chatForm = document.getElementById('chatForm');
        const chatInput = document.getElementById('chatInput');
        const sendBtn = document.getElementById('sendBtn');

        // Sample responses for demo
        const sampleResponses = [
            "That's an interesting question! In a real Quest chat, I would analyze your saved content to provide personalized insights.",
            "I can help you find connections between different pieces of content you've saved. What topic are you curious about?",
            "Based on your knowledge collection, I notice you're interested in several key areas. Would you like me to explore any specific topic?",
            "I can summarize and explain complex topics from your saved articles. What would you like me to break down for you?",
            "Let me help you discover new insights from your existing content. What's your current focus area?",
            "I can help you organize and categorize your thoughts about the content you've saved. What would you like to explore?",
            "That's a great question! In the full Quest experience, I'd search through your personal knowledge vault to find relevant information.",
            "I'm here to help you make sense of all the information you've collected. What would you like to dive deeper into?",
            "Based on your saved content, I can help you identify patterns and connections. What interests you most?",
            "I can help you explore new perspectives on topics you've already researched. What would you like to discuss?"
        ];

        function addMessage(text, isUser = false, isTyping = false) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'assistant'}`;
            
            if (isTyping) {
                messageDiv.innerHTML = '<span class="typing-indicator">AI is typing...</span>';
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
                return messageDiv;
            } else {
                messageDiv.textContent = text;
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
                return messageDiv;
            }
        }

        function typeMessage(element, text, speed = 30) {
            element.textContent = '';
            let i = 0;
            const timer = setInterval(() => {
                if (i < text.length) {
                    element.textContent += text.charAt(i);
                    i++;
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                } else {
                    clearInterval(timer);
                }
            }, speed);
        }

        function getRandomResponse() {
            return sampleResponses[Math.floor(Math.random() * sampleResponses.length)];
        }

        chatForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const userMessage = chatInput.value.trim();
            if (!userMessage) return;

            // Add user message
            addMessage(userMessage, true);
            
            // Clear input and disable send button
            chatInput.value = '';
            sendBtn.disabled = true;
            sendBtn.innerHTML = `
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                    <path d="M12 6v6l4 2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                Thinking...
            `;

            // Simulate AI thinking time
            setTimeout(() => {
                const response = getRandomResponse();
                const typingMessage = addMessage('', false, true);
                
                setTimeout(() => {
                    typingMessage.remove();
                    const responseMessage = addMessage('', false);
                    typeMessage(responseMessage, response, 30);
                }, 500 + Math.random() * 1000);
                
                // Re-enable send button
                sendBtn.disabled = false;
                sendBtn.innerHTML = `
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                        <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                    Send
                `;
            }, 1000 + Math.random() * 2000); // Random delay between 1-3 seconds
        });

        // Auto-focus on input
        chatInput.focus();

        // Handle Enter key
        chatInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                chatForm.dispatchEvent(new Event('submit'));
            }
        });

        // Add some demo messages on load
        setTimeout(() => {
            addMessage("Try asking me about your saved articles, research topics, or any content you've collected!", false);
        }, 2000);
    </script>
</body>
</html>
